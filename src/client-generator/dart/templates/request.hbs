request(HttpMethod.{{uppercase httpMethod}}, '{{url2Template url}}', 
{{#if arguments}}
  {{#if isRPC}}
    body: {{toMap "data" arguments.body}},
  {{else}}
    {{#if arguments.query}}
      query: {
      {{#each arguments.query}}
        '{{@key}}': query?.{{@key}},
      {{/each}}
    },{{/if}}
    {{#if arguments.headers}}
      headers: {
      {{#each arguments.headers}}
        '{{@key}}': headers['{{@key}}'],
      {{/each}}
    },{{/if}}
    {{#if arguments.body}}
      body: {{toMap "body" arguments.body}},
    {{/if}}
  {{/if}}
{{/if}}
);