request(HttpMethod.{{uppercase httpMethod}}, '{{url}}', 
{{#if arguments}}
  {{#if isRPC}}
    data
  {{else}}
    {{#with arguments}}
      {{#if query}}
        query: {
        {{#each query}}
          '{{@key}}': query?.{{@key}},
        {{/each}}
      },{{/if}}
      {{#if headers}}
        headers: {
        {{#each headers}}
          '{{@key}}': headers['{{@key}}'],
        {{/each}}
      },{{/if}}
      {{#if body}}
        body: {{toMap "body" body}},
      {{/if}}
    {{/with}}
  {{/if}}
{{/if}}
);